@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground, #FFFFFF);
  --color-primary: var(--primary, #FF671E);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --animate-appear: appear 0.5s ease-out forwards;
  --animate-appear-zoom: appear-zoom 0.5s ease-out forwards;
  --color-brand-foreground: var(----brand-foreground);
  --color-brand: var(----brand);

  @keyframes appear {
    0% {
      opacity: 0;
      transform: translateY(10px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes appear-zoom {
    0% {
      opacity: 0;
      transform: scale(0.95);
    }
    100% {
      opacity: 1;
      transform: scale(1);
    }
  }
  @keyframes appear {
  0% {
    opacity: 0;
    transform: translateY(10px);
    }
  100% {
    opacity: 1;
    transform: translateY(0);
    }
  }
  @keyframes appear-zoom {
  0% {
    opacity: 0;
    transform: scale(0.95);
    }
  100% {
    opacity: 1;
    transform: scale(1);
    }
  }
}

:root {
  /* Variables communes aux deux thèmes */
  --zalama-orange: #FF671E;       /* Couleur principale - orange */
  --zalama-orange-light: #FF8C5A;  /* Orange clair pour les hovers */
  --zalama-orange-dark: #E55C1A;   /* Orange foncé pour les états actifs */
  --zalama-blue: #3b82f6;         /* Accent secondaire - bleu vif */
  --zalama-blue-light: #60a5fa;    /* Bleu clair pour les hovers */
  --zalama-success: #10b981;      /* Succès */
  --zalama-warning: #f59e0b;      /* Avertissement */
  --zalama-danger: #ef4444;       /* Danger */
  --zalama-green: #10b981;        /* Vert */
  --zalama-red: #ef4444;          /* Rouge */          --brand: hsl(27 96% 61%);          --brand-foreground: hsl(31 97% 72%);
}

/* Thème sombre (par défaut) */
[data-theme="dark"], :root {
  /* Couleurs principales bleu ZaLaMa (très sombre, presque noir) */
  --zalama-bg-dark: #0a1525;      /* Fond principal - bleu très sombre */
  --zalama-bg-darker: #061020;    /* Sidebar - encore plus sombre */
  --zalama-bg-light: #0e1e36;     /* Cards, hover - un peu plus clair */
  --zalama-bg-lighter: #1a2c4e;   /* Hover plus clair */
  --zalama-header-blue: #0c1d3b;  /* Header - bleu profond avec une touche de richesse */
  --zalama-card: #0c1a2e;         /* Fond cards - bleu très sombre */
  --zalama-card-hover: #112240;   /* Fond cards au survol */
  --zalama-border: #1e3a70;       /* Bordures */
  --zalama-border-light: #2d4b8c; /* Bordures plus claires */
  --zalama-text: #e5e7ef;         /* Texte principal */
  --zalama-text-secondary: #a0aec0; /* Texte secondaire */
  --zalama-text-muted: #6b7c9e;   /* Texte en retrait */
  --zalama-shadow: rgba(0, 0, 0, 0.3); /* Ombres */
  --zalama-card-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2), 0 2px 4px -1px rgba(0, 0, 0, 0.1);
}

/* Thème clair */
[data-theme="light"] {
  --zalama-bg-dark: #f5f7fa;      /* Fond principal - gris très clair */
  --zalama-bg-darker: #e2e8f0;    /* Sidebar - gris clair */
  --zalama-bg-light: #edf2f7;     /* Cards, hover - gris très clair */
  --zalama-bg-lighter: #f8fafc;   /* Hover plus clair */
  --zalama-header-blue: #f1f5f9;  /* Header - bleu très clair */
  --zalama-card: #ffffff;         /* Fond cards - blanc */
  --zalama-card-hover: #f8fafc;   /* Fond cards au survol */
  --zalama-border: #cbd5e1;       /* Bordures */
  --zalama-border-light: #e2e8f0; /* Bordures plus claires */
  --zalama-text: #1e293b;         /* Texte principal */
  --zalama-text-secondary: #64748b; /* Texte secondaire */
  --zalama-text-muted: #94a3b8;   /* Texte en retrait */
  --zalama-shadow: rgba(0, 0, 0, 0.1); /* Ombres */
  --zalama-card-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.05), 0 1px 2px 0 rgba(0, 0, 0, 0.03);
}

body {
  background: var(--zalama-bg-dark);
  color: var(--zalama-text);
  line-height: 1.6;
}

/* Styles de base pour les cartes */
.card {
  background: var(--zalama-card);
  border: 1px solid var(--zalama-border);
  border-radius: 0.5rem;
  box-shadow: var(--zalama-card-shadow);
  transition: all 0.2s ease;
  overflow: hidden;
}

.card-hover:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.15), 0 4px 6px -2px rgba(0, 0, 0, 0.1);
  border-color: var(--zalama-border-light);
}

/* Styles de texte */
.text-primary {
  color: var(--zalama-text);
}

.text-secondary {
  color: var(--zalama-text-secondary);
}

.text-muted {
  color: var(--zalama-text-muted);
}

/* Corps de section */
.section-body {
  padding: 1.5rem;
  background: var(--zalama-card);
  color: var(--zalama-text);
  border-radius: 0.5rem;
  border: 1px solid var(--zalama-border);
  margin-bottom: 1.5rem;
}

/* Styles pour les cartes dans le composant FonctionnementZalama */
.fonctionnement-card {
  background: var(--zalama-card);
  border: 1px solid var(--zalama-border);
  border-radius: 0.75rem;
  transition: all 0.2s ease;
  overflow: hidden;
}

/* Styles pour les onglets (tabs) */
.tabs-container [data-state="active"] {
  background-color: var(--zalama-border);
  color: white;
}

.tabs-trigger[data-state="active"] {
  background-color: var(--zalama-border);
  color: white;
  border-color: var(--zalama-border-light);
}

.tabs-trigger[data-state="inactive"] {
  background-color: var(--zalama-bg-light);
  color: var(--zalama-text-secondary);
  border-color: var(--zalama-border);
}

.tabs-trigger:hover {
  background-color: var(--zalama-bg-lighter);
  color: var(--zalama-text);
  border-color: var(--zalama-border-light);
}

.tabs-trigger {
  transition: all 0.2s ease;
  border-bottom: 2px solid transparent;
}

.tabs-trigger[data-state="active"] {
  border-bottom: 2px solid var(--color-primary);
}

.fonctionnement-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  border-color: var(--zalama-border-light);
}

.cpu-architecture {
  offset-anchor: 10px 0px;
  animation: animation-path;
  animation-iteration-count: infinite;
  animation-timing-function: cubic-bezier(0.75, -0.01, 0, 0.99);
}

.cpu-line-1 {
  offset-path: path("M 10 20 h 79.5 q 5 0 5 5 v 30");
  animation-duration: 5s;
  animation-delay: 1s;
}

.cpu-line-2 {
  offset-path: path("M 180 10 h -69.7 q -5 0 -5 5 v 40");
  animation-delay: 6s;
  animation-duration: 2s;
}

.cpu-line-3 {
  offset-path: path("M 130 20 v 21.8 q 0 5 -5 5 h -25");
  animation-delay: 4s;
  animation-duration: 6s;
}

.cpu-line-4 {
  offset-path: path("M 170 80 v -21.8 q 0 -5 -5 -5 h -65");
  animation-delay: 3s;
  animation-duration: 3s;
}

.cpu-line-5 {
  offset-path: path(
    "M 135 65 h 15 q 5 0 5 5 v 10 q 0 5 -5 5 h -39.8 q -5 0 -5 -5 v -35"
  );
  animation-delay: 9s;
  animation-duration: 4s;
}

.cpu-line-6 {
  offset-path: path("M 94.8 95 v -46");
  animation-delay: 3s;
  animation-duration: 7s;
}

.cpu-line-7 {
  offset-path: path(
    "M 88 88 v -15 q 0 -5 -5 -5 h -10 q -5 0 -5 -5 v -5 q 0 -5 5 -5 h 28"
  );
  animation-delay: 4s;
  animation-duration: 4s;
}

.cpu-line-8 {
  offset-path: path("M 30 30 h 25 q 5 0 5 5 v 6.5 q 0 5 5 5 h 35");
  animation-delay: 3s;
  animation-duration: 3s;
}

@keyframes animation-path {
  0% {
    offset-distance: 0%;
  }
  100% {
    offset-distance: 100%;
  }
}

/* Amélioration de la lisibilité sur mobile */
@media (max-width: 768px) {
  .fonctionnement-card {
    margin-bottom: 1.25rem;
  }

  .section-body {
    padding: 1rem;
  }
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

.dark {
  --brand: hsl(31 97% 72%);
}

@layer utilities {
  .delay-100 {
    animation-delay: 100ms;
  }
  .delay-300 {
    animation-delay: 300ms;
  }
  
  /* Hover эффект для группы */
  .group:hover .group-hover\:translate-y-\[-2rem\] {
    --tw-translate-y: -2rem;
    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate))
      skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x))
      scaleY(var(--tw-scale-y));
  }
  
  .group:hover .group-hover\:opacity-100 {
    opacity: 1;
  }
}

@layer base {
  :root {
    --brand: 27 96% 61%;
    --brand-foreground: 31 97% 72%;
  }
 
  .dark {
    --brand: 31 97% 72%;
    --brand-foreground: 27 96% 61%
  }
}